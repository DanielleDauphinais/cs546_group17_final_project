{{#with @root}}
<div class="library">
<article>
    <h1>{{name}}</h1>
    <img alt="{{name}}" src="{{image}}">
    <address>{{address}}</address>
    <p>Created by: {{owner}}</p>
    <h2>Fullness: {{fullnessRating}}/5</h2>
    <p>Last Rated On: {{lastServayed}}</p>
    <div id="listGenrers">
    <ul>
        {{#each genres}}
            <li>
                <p>{{this}}</p>
            </li>
        {{/each}}
    </ul>
    </div>
    <form action="/libraries/{{_id}}/survey" method="GET">
        <button type="submit">Rate Fullness / Add Genres</button>
    </form>
    <div id="favorites">
        <p>Count of users who follow {{name}}</p>
        {{#if (ne ownerID userid)}}
        <p>Click here to add {{name}} to your favorites (or unfavorite)!</p>
        <form action="/libraries/{{_id}}" method="POST">
            <button type="submit">{{numFavorites}}</button>
        </form>
        {{/if}}
        {{#if (eq ownerID userid)}}
        <button>{{numFavorites}}</button>
        {{/if}}
    </div>
    <br>
    <div id="commentSectionLibs">
    <h2>Comments Section</h2>
    <div id="comments">
        {{#each comments}}
            {{> comment }}
        {{/each}}
    </div>
    <div id="createComment">
        <h2>Post a Comment</h2>
        <form id="newComment">
            <label for="text_input">
                <textarea name="text_input" id="text_input"></textarea>
            </label>
            <button type="submit">Post Comment</button>
        </form>
    </div>
    <div id="commentCreateError"></div>
</article>
<script type="module" src="../../public/js/comments.js"></script>
<script type="module" src="../../public/js/validators/util.js"></script>
</div>
{{/with}}